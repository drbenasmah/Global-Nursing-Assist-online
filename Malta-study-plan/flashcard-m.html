<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Malta Interview Flashcards — Enhanced</title>
    <!-- This link to styles.css is for the navbar and may not work in a local preview without the file -->
    <link rel="stylesheet" href="../styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Lora:wght@600&display=swap"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/feather-icons"></script>
    <style>
      :root {
        --brand-blue: #1e40af;
        --brand-blue-light: #dbeafe;
        --brand-secondary: #059669;
        --font-primary: "Inter", sans-serif;
        --font-headings: "Lora", serif;
        --radius: 12px;

        /* Light Theme Variables */
        --bg-primary: #f1f5f9;
        --bg-secondary: #ffffff;
        --text-primary: #1e293b;
        --text-secondary: #475569;
        --border-primary: #e2e8f0;
        --shadow-color-rgb: 0, 0, 0;
      }

      body[data-theme="dark"] {
        /* Dark Theme Variables */
        --bg-primary: #111827;
        --bg-secondary: #1f2937;
        --text-primary: #e5e7eb;
        --text-secondary: #9ca3af;
        --border-primary: #374151;
        --shadow-color-rgb: 220, 220, 220;
        --brand-blue-light: #1e3a8a;
      }

      * {
        box-sizing: border-box;
      }
      html,
      body {
        height: 100%;
        margin: 0;
      }
      body {
        font-family: var(--font-primary);
        color: var(--text-primary);
        background-color: var(--bg-primary);
        display: flex;
        flex-direction: column;
        transition: background-color 0.3s ease, color 0.3s ease;
      }
      .main-layout {
        display: flex;
        flex-grow: 1;
        overflow: hidden;
      }

      /* --- SOLUTION --- */
      /* This rule makes the navbar container full-width to match the main content */
      .nav-container {
        max-width: none !important;
      }
      /* End of Solution */

      /* Shadows */
      .shadow-sm {
        box-shadow: 0 4px 12px rgba(var(--shadow-color-rgb), 0.05);
      }
      .shadow-md {
        box-shadow: 0 10px 30px rgba(var(--shadow-color-rgb), 0.1);
      }
      .btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 6px 20px rgba(30, 64, 175, 0.2);
      }

      /* Sidebar */
      .sidebar {
        width: 280px;
        flex-shrink: 0;
        background-color: var(--bg-secondary);
        padding: 1.5rem;
        border-right: 1px solid var(--border-primary);
        overflow-y: auto;
        transition: background-color 0.3s ease, border-color 0.3s ease;
      }
      .sidebar-header {
        font-family: var(--font-headings);
        font-size: 1.5rem;
        font-weight: 600;
        color: var(--brand-blue);
        margin-bottom: 1.5rem;
      }
      .week-header {
        font-weight: 600;
        color: var(--text-secondary);
        margin-top: 1.5rem;
        margin-bottom: 0.5rem;
        font-size: 0.9rem;
      }
      .day-link {
        display: block;
        padding: 0.75rem 1rem;
        border-radius: 8px;
        text-decoration: none;
        color: var(--text-secondary);
        font-weight: 500;
        transition: all 0.2s ease;
      }
      .day-link:hover {
        background-color: var(--brand-blue-light);
        color: var(--brand-blue);
      }
      body[data-theme="dark"] .day-link:hover {
        color: #e0e7ff;
      }
      .day-link.active {
        background-color: var(--brand-blue);
        color: white;
        font-weight: 600;
      }

      /* Main Content */
      .content-wrap {
        flex-grow: 1;
        padding: 1.5rem;
        overflow-y: auto;
      }
      .content-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.5rem;
      }
      .content-header h1 {
        font-family: var(--font-headings);
        font-size: 2rem;
        margin: 0;
      }
      .controls {
        display: flex;
        gap: 0.75rem;
      }
      .btn {
        background: var(--brand-blue);
        color: #fff;
        border: none;
        padding: 0.6rem 1rem;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.2s ease;
      }
      .btn.ghost {
        background: transparent;
        border: 1px solid var(--border-primary);
        color: var(--text-secondary);
        box-shadow: none;
      }
      .btn.ghost:hover {
        background-color: var(--bg-primary);
        border-color: var(--text-secondary);
      }

      /* Flashcard Grid */
      .flashcard-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1.5rem;
      }
      .card {
        position: relative;
        perspective: 1200px;
        height: 240px;
        transition: transform 0.5s ease, opacity 0.5s ease;
      }
      .card.learned {
        opacity: 0.4;
        transform: scale(0.95);
        border: 2px solid var(--brand-secondary);
        box-shadow: 0 0 0 2px var(--brand-secondary), var(--shadow-sm);
      }
      .card.hide {
        transform: scale(0.8);
        opacity: 0;
        pointer-events: none;
      }
      .card-inner {
        width: 100%;
        height: 100%;
        border-radius: var(--radius);
        transition: transform 0.7s;
        transform-style: preserve-3d;
        cursor: pointer;
        box-shadow: var(--shadow-sm);
      }
      .card.flipped .card-inner {
        transform: rotateY(180deg);
      }
      .card-face {
        position: absolute;
        inset: 0;
        padding: 1.25rem;
        border-radius: var(--radius);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.1rem;
        backface-visibility: hidden;
        text-align: center;
      }
      .card-front {
        background: var(--bg-secondary);
        border: 1px solid var(--border-primary);
        font-weight: 600;
        z-index: 1;
      }
      .card-back {
        background: var(--brand-blue-light);
        transform: rotateY(180deg);
        color: var(--brand-blue);
      }
      body[data-theme="dark"] .card-back {
        color: #e0e7ff;
      }
      .card-actions {
        position: absolute;
        bottom: 12px;
        right: 12px;
        display: flex;
        gap: 8px;
        z-index: 3;
      }
      .card-action {
        background: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(4px);
        border-radius: 50%;
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        border: 1px solid var(--border-primary);
        transition: all 0.2s ease;
        color: var(--text-secondary);
      }
      body[data-theme="dark"] .card-action {
        background: rgba(31, 41, 55, 0.8);
      }
      .card-action:hover {
        background-color: var(--bg-secondary);
        transform: scale(1.1);
      }
      .card-action.btn-learned {
        color: var(--brand-secondary);
      }

      /* Progress Bar */
      .progress-container {
        width: 100%;
        background-color: var(--border-primary);
        border-radius: 8px;
        margin-bottom: 2rem;
        height: 12px;
        overflow: hidden;
      }
      .progress-bar {
        height: 100%;
        width: 0%;
        background-color: var(--brand-secondary);
        border-radius: 8px;
        transition: width 0.4s ease;
      }

      /* Modals */
      .modal-overlay {
        position: fixed;
        inset: 0;
        background-color: rgba(17, 24, 39, 0.6);
        backdrop-filter: blur(4px);
        z-index: 1000;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
      }
      .modal-overlay.open {
        opacity: 1;
        visibility: visible;
      }
      .modal-content {
        background-color: var(--bg-secondary);
        padding: 2rem;
        border-radius: var(--radius);
        box-shadow: var(--shadow-md);
        width: 90%;
        max-width: 500px;
        transform: scale(0.95);
        transition: transform 0.3s ease;
      }
      .modal-overlay.open .modal-content {
        transform: scale(1);
      }
      .modal-content h2 {
        font-family: var(--font-headings);
        font-size: 1.5rem;
        margin-top: 0;
      }
      .modal-content textarea,
      .modal-content input {
        width: 100%;
        padding: 0.75rem;
        border-radius: 8px;
        border: 1px solid var(--border-primary);
        font-size: 1rem;
        margin-bottom: 1rem;
        background-color: var(--bg-primary);
        color: var(--text-primary);
      }
      .modal-content textarea {
        min-height: 120px;
        resize: vertical;
      }

      /* Toast */
      #toast {
        position: fixed;
        right: 20px;
        bottom: 24px;
        background: #1e293b;
        color: white;
        padding: 12px 16px;
        border-radius: 10px;
        box-shadow: 0 8px 30px rgba(2, 12, 35, 0.25);
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.3s ease;
        z-index: 999;
      }
      #toast.show {
        opacity: 1;
        transform: translateY(0);
      }

      @media (max-width: 768px) {
        .main-layout {
          flex-direction: column;
        }
        .sidebar {
          width: 100%;
          border-right: none;
          border-bottom: 1px solid var(--border-primary);
          height: auto;
          max-height: 200px;
        }
        .content-header {
          flex-direction: column;
          align-items: flex-start;
          gap: 1rem;
        }
      }

      /* --- DARK MODE NAVBAR OVERRIDES --- */
      .navbar {
        transition: background-color 0.3s ease, border-color 0.3s ease;
      }
      body[data-theme="dark"] .navbar {
        background-color: var(--bg-secondary);
        border-bottom: 1px solid var(--border-primary);
      }
      body[data-theme="dark"] .nav-link,
      body[data-theme="dark"] .logo-text {
        color: var(--text-primary);
      }
      body[data-theme="dark"] .nav-link:hover {
        color: var(--brand-blue);
      }
      body[data-theme="dark"] .dropdown-menu {
        background-color: var(--bg-secondary);
        border: 1px solid var(--border-primary);
      }
      body[data-theme="dark"] .dropdown-link {
        color: var(--text-secondary);
      }
      body[data-theme="dark"] .dropdown-link:hover {
        background-color: var(--bg-primary);
        color: var(--text-primary);
      }
      body[data-theme="dark"] .nav-toggle .bar {
        background-color: var(--text-primary);
      }
    </style>
  </head>

  <body>
    <!-- The navbar might not display correctly without the linked CSS file -->
    <nav class="navbar">
      <div class="nav-container">
        <div class="nav-logo">
          <a href="../index.html">
            <img
              src="../src/assets/img/logo1.png"
              alt="Global Nursing Assist PL Logo"
              class="logo-img"
              onerror="this.onerror=null;this.src='https://placehold.co/200x50/1e40af/ffffff?text=Logo';"
            />
            <span class="logo-text">Global Nursing Assist PL</span>
          </a>
        </div>
        <div class="nav-menu" id="nav-menu">
          <a href="../index.html" class="nav-link">Home</a>
          <a href="../index.html#about" class="nav-link">About</a>
          <a href="../index.html#services" class="nav-link">Services</a>
          <a href="../index.html#testimonials" class="nav-link">Testimonials</a>
          <a href="../index.html#articles" class="nav-link">Articles</a>
          <div class="dropdown">
            <a href="#resources" class="nav-link" id="resources-link">
              Resources
              <i
                data-feather="chevron-down"
                style="width: 16px; height: 16px"
              ></i>
            </a>
            <div class="dropdown-menu">
              <a href="#" class="dropdown-link">AI Interview Assistant</a>
              <a href="#" class="dropdown-link">Study Plan</a>
              <a href="#" class="dropdown-link">Study Guide</a>
              <a href="#" class="dropdown-link">Flashcards</a>
              <a href="#" class="dropdown-link">Free Downloads</a>
            </div>
          </div>
          <a href="../index.html#contact" class="nav-link">Contact</a>
          <a href="../blog.html" class="nav-link">Blog</a>
        </div>
        <button
          class="nav-toggle"
          id="nav-toggle"
          aria-label="Toggle navigation menu"
        >
          <span class="bar"></span>
          <span class="bar"></span>
          <span class="bar"></span>
        </button>
      </div>
    </nav>

    <div class="main-layout">
      <!-- Sidebar for Day Selection -->
      <aside class="sidebar">
        <h2 class="sidebar-header">Study Plan Days</h2>
        <div id="day-navigation">
          <!-- Day links will be injected here -->
        </div>
      </aside>

      <!-- Main Content -->
      <div class="content-wrap">
        <header class="content-header">
          <h1 id="deck-title">Day 1: Professional Foundations</h1>
          <div class="controls">
            <button class="btn ghost" id="reset-progress">
              Reset Progress
            </button>
            <button class="btn ghost" id="shuffle">Shuffle</button>
            <button class="btn" id="add-new-card">Add New Card</button>
            <button
              class="btn ghost"
              id="theme-toggle"
              title="Toggle Theme"
              style="padding: 0.6rem"
            >
              <i data-feather="moon"></i>
            </button>
          </div>
        </header>

        <!-- New Progress Bar -->
        <div class="progress-container">
          <div id="progress-bar" class="progress-bar"></div>
        </div>

        <div
          id="flashcardContainer"
          class="flashcard-container"
          aria-live="polite"
        ></div>
      </div>
    </div>

    <!-- Create/Edit Modal -->
    <div id="modal" class="modal-overlay">
      <div class="modal-content">
        <h2 id="modal-title">Create New Flashcard</h2>
        <input
          id="q"
          placeholder="Enter question or topic"
          aria-label="Question"
        />
        <textarea
          id="a"
          placeholder="Enter answer"
          aria-label="Answer"
        ></textarea>
        <div style="display: flex; gap: 8px">
          <button id="save-card" class="btn">Save Card</button>
          <button id="modal-close" class="btn ghost">Cancel</button>
        </div>
      </div>
    </div>

    <!-- Custom Confirmation Modal -->
    <div id="confirm-modal" class="modal-overlay">
      <div class="modal-content">
        <h2 id="confirm-title">Are you sure?</h2>
        <p id="confirm-text">This action cannot be undone.</p>
        <div style="display: flex; gap: 8px; justify-content: flex-end">
          <button id="confirm-cancel" class="btn ghost">Cancel</button>
          <button id="confirm-ok" class="btn">OK</button>
        </div>
      </div>
    </div>

    <div id="toast" role="status"></div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // --- DATA & VERSIONING ---
        // IMPORTANT: To force a refresh of the flashcard data, change this version number.
        // For example, change it from "3.0" to "3.1" after editing guideData.
        const SCRIPT_VERSION = "3.0";
        const DECKS_STORAGE_KEY = `flashcardDecks_v${SCRIPT_VERSION}`;
        const VERSION_STORAGE_KEY = "flashcardAppVersion";

        const guideData = [
          // WEEK 1
          {
            week: 1,
            day: 1,
            title: "Professional Foundations",
            flashcards: [
              {
                q: "What are the core principles of the Maltese Code of Ethics?",
                a: "Key principles include Non-maleficence (do no harm), Beneficence (do good), Respect for Autonomy (informed consent), Justice (fairness), and Confidentiality.",
              },
              {
                q: "What is the primary purpose of nursing documentation?",
                a: "To ensure patient safety through clear communication. It serves as a communication tool for the healthcare team and a legal record of care provided.",
              },
              {
                q: "How does teamwork reduce medical errors?",
                a: "Through clear communication, shared responsibility, and double-checking during handovers and ward rounds.",
              },
              {
                q: "How can a nurse foster a positive team environment?",
                a: "By respecting colleagues’ roles, communicating clearly, and supporting others under stress.",
              },
              {
                q: "What are the main responsibilities of a nurse under the Maltese Code of Ethics?",
                a: "Responsibilities to patients (safety, dignity), to self (competence), and to co-workers (respect, collaboration).",
              },
              {
                q: "Which ethical principle applies when a patient refuses life-saving treatment?",
                a: "Respect for Autonomy – the patient’s right to make decisions about their own care.",
              },
              {
                q: "How do you ensure ethical practice as a new graduate nurse?",
                a: "By obtaining informed consent, protecting confidentiality, and advocating for safe, evidence-based care.",
              },
              {
                q: "What does the phrase 'If it wasn’t documented, it wasn’t done' mean?",
                a: "Care that is not recorded in the patient’s notes is legally considered not to have been provided.",
              },
              {
                q: "How can poor documentation harm patients?",
                a: "It can cause missed treatments, repeated medications, or overlooked allergies, risking patient safety.",
              },
              {
                q: "A colleague asks you to document a medication they administered. What should you do?",
                a: "Refuse politely, explain professional accountability, and offer help so they can document it themselves.",
              },
              {
                q: "What key details must be included in nursing notes?",
                a: "Date, time, patient identifiers, assessment, interventions, outcomes, and nurse’s signature.",
              },
              {
                q: "How should you correct an error in patient documentation?",
                a: "Draw a single line through the mistake, add the correction, sign, and date—never erase or use correction fluid.",
              },
              {
                q: "What do you do if you realize you missed something important during handover?",
                a: "Immediately clarify with the colleague, document the information, and communicate it to ensure patient safety.",
              },
              {
                q: "Why is teamwork essential in healthcare?",
                a: "Because no single professional can meet all patient needs. Teamwork improves patient outcomes, prevents errors, and ensures coordinated care.",
              },
              {
                q: "How do you ensure effective communication during a handover?",
                a: "I use SBAR (Situation, Background, Assessment, Recommendation) to ensure concise and safe communication.",
              },
              {
                q: "A patient says they don’t understand what the doctor told them. What do you do?",
                a: "I would clarify the nursing aspects I can, but escalate to the doctor for a full medical explanation to ensure valid informed consent.",
              },
              {
                q: "How do you maintain patient confidentiality in practice?",
                a: "By not sharing personal health information without consent and only discussing it with relevant healthcare professionals.",
              },
              {
                q: "What is your role if you witness unsafe practice by a colleague?",
                a: "I would stop the unsafe act immediately if it risks patient safety and escalate it appropriately through hospital channels.",
              },
              {
                q: "Why is reflection important in nursing practice?",
                a: "It helps identify strengths and areas for improvement, ensuring continuous professional development.",
              },
              {
                q: "How do you build trust with patients?",
                a: "By being honest, respectful, keeping information confidential, and showing empathy in care.",
              },
              {
                q: "Why is accountability important in nursing?",
                a: "Because patients rely on us for safe care. Nurses are legally and professionally accountable for their actions.",
              },
            ],
          },
          {
            week: 1,
            day: 2,
            title: "Infection Control Mastery",
            flashcards: [
              {
                q: "What is the most effective way to prevent cross-infection?",
                a: "Proper hand hygiene at the 5 WHO moments.",
              },
              {
                q: "What are the 5 Moments for Hand Hygiene?",
                a: "1. Before touching a patient.\n2. Before a clean/aseptic procedure.\n3. After body fluid exposure risk.\n4. After touching a patient.\n5. After touching patient surroundings.",
              },
              {
                q: "What are Standard Precautions?",
                a: "The minimum infection prevention practices applied to all patients. Key examples include hand hygiene, use of PPE, and safe sharps disposal.",
              },
              {
                q: "A patient is diagnosed with MRSA. What precautions do you take?",
                a: "Contact isolation, gloves and gown, dedicated equipment, and strict hand hygiene.",
              },
              {
                q: "What additional precautions are needed for a patient with C. difficile?",
                a: "Use Contact Precautions, including gloves and gown, and ensure thorough cleaning with bleach-based products.",
              },
              {
                q: "Why is hand hygiene considered the single most important infection control measure?",
                a: "Because it prevents transmission of microorganisms between healthcare workers, patients, and the environment.",
              },
              {
                q: "When should alcohol-based hand rub NOT be used?",
                a: "When hands are visibly soiled or after caring for patients with spore-forming organisms (e.g., C. difficile). Use soap and water instead.",
              },
              {
                q: "How do you manage a sharps injury?",
                a: "Encourage bleeding, wash with soap and water, report immediately, and follow exposure protocol.",
              },
              {
                q: "How do you safely dispose of used sharps?",
                a: "Immediately into a puncture-proof sharps container at the point of use. Never recap, bend, or break needles.",
              },
              {
                q: "What should you do if you sustain a needlestick injury?",
                a: "Wash the area with soap and water, report immediately, follow hospital post-exposure protocol, and seek medical evaluation.",
              },
              {
                q: "When should gloves be worn?",
                a: "During contact with blood, body fluids, mucous membranes, non-intact skin, or contaminated equipment.",
              },
              {
                q: "A patient with TB is coughing. What precautions do you use?",
                a: "Airborne precautions: N95 mask, negative pressure room, and patient mask when leaving room.",
              },
              {
                q: "What is MRSA?",
                a: "Methicillin-Resistant Staphylococcus Aureus – a bacteria resistant to many antibiotics, often spread in healthcare settings.",
              },
              {
                q: "How do you prevent the spread of MRSA in a hospital?",
                a: "Hand hygiene, contact precautions (gloves, gowns), patient isolation if necessary, and strict environmental cleaning.",
              },
              {
                q: "What is CRE?",
                a: "Carbapenem-Resistant Enterobacteriaceae – a group of bacteria resistant to nearly all antibiotics, associated with high mortality.",
              },
              {
                q: "What precautions are required for CRE patients?",
                a: "Contact isolation, strict hand hygiene, use of dedicated equipment, and careful antibiotic stewardship.",
              },
              {
                q: "How do you prevent CAUTI (catheter-associated UTI)?",
                a: "Use aseptic insertion, secure catheter, keep drainage bag below bladder, and remove ASAP.",
              },
              {
                q: "How do you prevent ventilator-associated pneumonia (VAP)?",
                a: "Head-of-bed elevation, oral care, suctioning, and sedation breaks.",
              },
              {
                q: "What PPE would you wear for suctioning a patient with a productive cough?",
                a: "Gloves, mask (surgical or N95 depending on risk), and eye protection to prevent droplet exposure.",
              },
              {
                q: "How do you prevent cross-contamination when removing PPE?",
                a: "Remove gloves first, then gown, then perform hand hygiene before touching your face or clean surfaces.",
              },
              {
                q: "Why is PPE important?",
                a: "It protects both staff and patients from transmission of infections.",
              },
              {
                q: "What is the role of environmental cleaning in infection prevention?",
                a: "Regular cleaning of high-touch surfaces reduces transmission of resistant organisms like MRSA and CRE.",
              },
            ],
          },
          {
            week: 1,
            day: 3,
            title: "Core Patient Assessment",
            flashcards: [
              {
                q: "Why is it important to count a patient's respiratory rate without them knowing?",
                a: "Because breathing can be voluntarily controlled. If a patient knows you are watching, they may alter their normal breathing pattern, leading to an inaccurate reading.",
              },
              {
                q: "What are the three components of the Glasgow Coma Scale (GCS)?",
                a: "1. Eye Opening Response (Score 1-4).\n2. Verbal Response (Score 1-5).\n3. Motor Response (Score 1-6).",
              },
              {
                q: "What does a GCS score of 8 or less typically indicate?",
                a: "A severe head injury.",
              },
              {
                q: "What is the purpose of using a pain scale (e.g., 0-10)?",
                a: "To get an objective baseline of the patient's subjective pain. This allows the nurse to evaluate the effectiveness of pain relief and communicate the pain level clearly to the team.",
              },
              {
                q: "What is the ABCDE approach?",
                a: "Airway, Breathing, Circulation, Disability, Exposure — a systematic assessment to detect and treat life threats.",
              },
              {
                q: "How do you assess consciousness in a patient with a head injury?",
                a: "By using the Glasgow Coma Scale (eye, verbal, motor response).",
              },
              {
                q: "You find a patient unconscious. What’s your first step?",
                a: "Check responsiveness, call for help, assess Airway and Breathing, and begin resuscitation if needed.",
              },
              {
                q: "What is a primary survey vs. secondary survey?",
                a: "Primary = ABCDE for life threats. Secondary = head-to-toe assessment once stable.",
              },
              {
                q: "How do you assess circulation?",
                a: "Pulse, BP, capillary refill, skin color/temp, and urine output.",
              },
              {
                q: "A diabetic patient is unconscious. What do you do?",
                a: "Check glucose. If hypoglycemia suspected, give IV glucose if IV access, or IM glucagon if no access.",
              },
              {
                q: "Why is baseline observation important on admission?",
                a: "It provides reference values to detect deterioration early.",
              },
              {
                q: "What tool is used for early detection of deterioration?",
                a: "NEWS2 scoring system.",
              },
              {
                q: "What’s your immediate action if GCS drops from 15 to 10?",
                a: "Escalate immediately, maintain airway, and prepare for urgent medical review.",
              },
              {
                q: "Why is exposure included in ABCDE?",
                a: "To check wounds, rashes, or hidden injuries while maintaining dignity and temperature.",
              },
            ],
          },
          {
            week: 1,
            day: 4,
            title: "Medication Administration Fundamentals",
            flashcards: [
              {
                q: "What are the 5 Rights of Medication Administration?",
                a: "1. Right Patient.\n2. Right Drug.\n3. Right Dose.\n4. Right Route.\n5. Right Time.",
              },
              {
                q: "What are the 'three checks' in medication administration?",
                a: "1. When taking the drug from the shelf.\n2. When preparing the drug.\n3. At the patient's bedside before administration.",
              },
              {
                q: "What is medication reconciliation?",
                a: "The process of creating the most accurate list of all medications a patient is taking and comparing it against physician's orders on admission, transfer, or discharge to prevent errors.",
              },
              {
                q: "What is your action if a patient refuses medication?",
                a: "Respect their decision, explain risks, document refusal, and inform doctor.",
              },
              {
                q: "What do you check before IV antibiotic administration?",
                a: "Allergies, correct drug/dose, dilution, infusion rate, and monitoring for side effects.",
              },
              {
                q: "What is the procedure for controlled drug administration?",
                a: "Two RN check, record in CD register, bedside patient ID check, administer, and co-sign wastage.",
              },
              {
                q: "What are the 4 common types of injections?",
                a: "Intradermal, Subcutaneous, Intramuscular, Intravenous.",
              },
              {
                q: "You are handed prepared medication by a colleague. What do you do?",
                a: "Decline — only administer drugs you prepared yourself to maintain accountability.",
              },
              {
                q: "What are the ‘3 checks’ in med administration?",
                a: "Check when taking drug from cupboard, when preparing, and before administering.",
              },
              {
                q: "How do you avoid med errors in a busy ward?",
                a: "Minimize distractions, follow 5 Rights, and confirm with patient.",
              },
              {
                q: "What’s your first action if a med error occurs?",
                a: "Assess patient, report immediately, inform doctor, and document.",
              },
              {
                q: "Why is patient education important in medication administration?",
                a: "It improves adherence, safety, and empowers patients in their care.",
              },
            ],
          },
          {
            week: 1,
            day: 5,
            title: "Wound Care & Skin Integrity",
            flashcards: [
              {
                q: "Why should you clean a wound from the center outwards?",
                a: "To avoid dragging microorganisms from the surrounding skin into the clean wound bed, which would increase the risk of infection.",
              },
              {
                q: "What is the first sign of a Stage 1 pressure ulcer?",
                a: "Non-blanching redness over a bony prominence. The skin is still intact.",
              },
              {
                q: "What are the key principles of the 'SSKIN' bundle for pressure ulcer prevention?",
                a: "Surface (pressure-relieving mattress), Skin Inspection, Keep Moving (repositioning), Incontinence/Moisture, Nutrition/Hydration.",
              },
              {
                q: "What does the acronym REEDA stand for in wound assessment?",
                a: "Redness, Edema (swelling), Ecchymosis (bruising), Discharge, Approximation (of wound edges).",
              },
              {
                q: "What is the principle of aseptic technique during wound care?",
                a: "To prevent introducing microorganisms by maintaining sterility of equipment and avoiding contamination.",
              },
              {
                q: "You are changing a surgical dressing and the wound looks red and swollen. What do you do?",
                a: "Stop, assess for infection, document, and escalate to the doctor for review.",
              },
              {
                q: "How do you prevent pressure ulcers in a bedridden patient?",
                a: "By repositioning 2-hourly, using pressure-relieving devices, keeping skin dry, and ensuring nutrition/hydration.",
              },
              {
                q: "A patient’s wound is draining heavily. How do you manage?",
                a: "Use an appropriate absorbent dressing, monitor fluid balance, and escalate for possible infection or bleeding.",
              },
              {
                q: "What’s the difference between a clean and sterile wound dressing?",
                a: "Clean technique reduces contamination; sterile technique eliminates all microorganisms for high-risk wounds.",
              },
              {
                q: "You see signs of a wound infection. What steps do you take?",
                a: "Notify the doctor, swab the wound if ordered, continue aseptic dressings, and monitor patient’s vitals.",
              },
              {
                q: "How do you stage a pressure ulcer?",
                a: "By depth: Stage 1 (redness), Stage 2 (partial-thickness), Stage 3 (full-thickness skin loss), Stage 4 (muscle/bone exposure).",
              },
              {
                q: "Why is skin inspection important during daily care?",
                a: "It helps detect early redness or breakdown, allowing for prevention before ulcers develop.",
              },
              {
                q: "What is the nurse’s role in surgical wound care?",
                a: "Maintain asepsis, monitor healing, assess for complications, and educate the patient on self-care.",
              },
              {
                q: "What patient education do you give for wound healing?",
                a: "Encourage good nutrition (protein, vitamins), keep wound clean/dry, avoid touching with unwashed hands, and report signs of infection.",
              },
            ],
          },
          {
            week: 1,
            day: 6,
            title: "GI & GU Basics",
            flashcards: [
              {
                q: "What is the gold standard for confirming initial NG tube placement?",
                a: "A Chest X-ray (CXR).",
              },
              {
                q: "What is the first bedside check for NG tube placement, and what pH indicates it's likely in the stomach?",
                a: "Aspirate gastric contents and test the pH. A pH of less than 5.5 (acidic) suggests correct placement.",
              },
              {
                q: "What are the three most important nursing actions to prevent a CAUTI (Catheter-Associated UTI)?",
                a: "1. Maintain a closed drainage system.\n2. Keep the drainage bag below the level of the bladder.\n3. Provide daily perineal hygiene.",
              },
              {
                q: "How do you confirm NG tube placement before feeding?",
                a: "By aspirating gastric contents and checking pH (≤5 = gastric). If uncertain, an X-ray confirmation is required before feeding.",
              },
              {
                q: "A patient with an NG tube develops coughing and breathlessness. What do you do?",
                a: "Stop the feed immediately, check tube placement, assess airway/breathing, and escalate to the doctor for review.",
              },
              {
                q: "What steps do you take before starting NG feeding?",
                a: "Confirm placement, flush tube with sterile water, check the prescription, explain to patient, and elevate head of bed to 30–45°.",
              },
              {
                q: "What is your immediate action if an NG tube becomes blocked?",
                a: "Attempt to flush with warm sterile water using a 30–50ml syringe. If unsuccessful, do not force—stop and escalate.",
              },
              {
                q: "How do you prevent aspiration in patients on NG feeding?",
                a: "Ensure correct placement, keep the head of bed elevated during and after feeding, monitor closely for distress, and avoid rapid feeding.",
              },
              {
                q: "What care is required for the nasal area in long-term NG tube use?",
                a: "Inspect nostril daily, rotate tube slightly if safe, change fixation tape regularly, and clean the surrounding skin.",
              },
              {
                q: "A confused patient repeatedly pulls out their NG tube. What would you do?",
                a: "Assess cause (discomfort/confusion), reassure, distract, re-secure safely, and involve the team/family. Avoid restraints unless last resort.",
              },
              {
                q: "What are your steps when inserting a urinary catheter?",
                a: "Explain and gain consent, perform hand hygiene, use sterile technique, lubricate catheter, insert gently until urine flows, advance slightly, inflate balloon, secure, and document.",
              },
              {
                q: "What are the signs of catheter-associated infection?",
                a: "Fever, suprapubic pain, cloudy/foul-smelling urine, burning, or leakage around catheter site.",
              },
              {
                q: "How do you prevent catheter-associated urinary tract infections (CAUTI)?",
                a: "Use aseptic insertion, maintain closed drainage, secure catheter, keep bag below bladder level, encourage fluids, and remove as soon as possible.",
              },
            ],
          },
          {
            week: 1,
            day: 7,
            title: "Weekly Review",
            flashcards: [
              {
                q: "(Scenario) A patient has just returned from hip surgery. What are your immediate ABCDE assessment priorities?",
                a: "Airway (is it clear?), Breathing (rate, SpO2), Circulation (BP, HR, perfusion), Disability (level of consciousness/GCS), Exposure (check wound for bleeding, check temperature).",
              },
              {
                q: "(Scenario) You are admitting an elderly, immobile, incontinent patient. What are two key risks?",
                a: "1. Risk for pressure ulcers due to immobility.\n2. Risk for infection (especially CAUTI if catheterized) due to incontinence and vulnerability.",
              },
              {
                q: "Why is teamwork important in preventing medical errors?",
                a: "Because shared responsibility and clear communication create a safety net that reduces errors.",
              },
              {
                q: "What is the legal risk of poor documentation?",
                a: "If it’s not documented, it’s considered not done, which can lead to liability and compromised patient safety.",
              },
              {
                q: "A patient is newly admitted. What are your first nursing actions?",
                a: "Confirm identity, allergies, take baseline vitals, perform rapid assessment, and orient patient to the ward.",
              },
              {
                q: "What is the most effective way to prevent hospital cross-infections?",
                a: "Performing proper hand hygiene at the WHO 5 moments.",
              },
              {
                q: "You are about to administer IV antibiotics. What steps ensure safety?",
                a: "Check allergy, follow 5 Rights, confirm diluent and rate, and monitor for side effects.",
              },
              {
                q: "A diabetic patient collapses unconscious. What do you do first?",
                a: "Check airway and breathing, assess blood glucose, and give IV glucose or IM glucagon if hypoglycemia suspected.",
              },
              {
                q: "What are early signs of a pressure ulcer?",
                a: "Redness that does not blanch, warmth, and skin breakdown.",
              },
              {
                q: "What is the Glasgow Coma Scale (GCS) used for?",
                a: "To assess level of consciousness based on eye, verbal, and motor responses.",
              },
              {
                q: "Your colleague asks you to sign off medication they gave. What do you do?",
                a: "Refuse politely, explain accountability, and encourage them to document it themselves.",
              },
              {
                q: "How do you confirm correct placement of an NG tube?",
                a: "Check aspirate pH (≤5.5), observe aspirate, and confirm by CXR if required.",
              },
            ],
          },
          // WEEK 2
          {
            week: 2,
            day: 8,
            title: "Controlled Drugs (CDs)",
            flashcards: [
              {
                q: "What are the two key principles for storing CDs on a ward?",
                a: "Security (locked cupboard compliant with regulations) and Segregation (storing high-strength and low-strength formulations separately).",
              },
              {
                q: "Who must be present when receiving new CD stock onto the ward?",
                a: "A Registered Nurse and a witness (another RN, doctor, or pharmacist).",
              },
              {
                q: "How often must a CD stock check be performed and by whom?",
                a: "Every 24 hours, performed by two registered professionals (e.g., two RNs).",
              },
              {
                q: "What is the purpose of strict rules for Controlled Drugs (CDs)?",
                a: "To ensure patient safety, prevent misuse, and maintain legal accountability.",
              },
              {
                q: "Who can requisition Controlled Drugs on a ward?",
                a: "The nurse in charge is responsible for requisitioning CDs.",
              },
              {
                q: "What is the procedure when receiving a new supply of CDs?",
                a: "Two registered nurses must check the delivery, verify the amount against the order, and both sign the CD register.",
              },
              {
                q: "How must Controlled Drugs be stored on the ward?",
                a: "In a double-locked cupboard with restricted access, separate from general medications.",
              },
              {
                q: "What is the role of the CD register?",
                a: "It is a legal document where every transaction (receipt, administration, wastage) is recorded immediately with two nurse signatures.",
              },
              {
                q: "What must be checked before administering a Controlled Drug?",
                a: "The prescription, the patient's identity, allergies, the drug name, dose, route, and timing — confirmed by two nurses.",
              },
              {
                q: "What happens to any unused portion of a Controlled Drug?",
                a: "It must be discarded safely in the presence of a second nurse, and both must sign the CD register.",
              },
              {
                q: "How often must the stock balance of CDs be checked?",
                a: "At least once every 24 hours by the nurse in charge, verified against the CD register.",
              },
              {
                q: "What should you do if you find a discrepancy in the CD count?",
                a: "Report immediately to the ward manager and follow hospital protocol. Document the discrepancy clearly.",
              },
              {
                q: "Why is a two-nurse system mandatory for CDs?",
                a: "It ensures accountability, reduces the risk of errors, and prevents misuse or diversion of controlled substances.",
              },
              {
                q: "You are preparing to administer morphine (a controlled drug). What steps do you take before giving it?",
                a: "I check the prescription, confirm the patient’s identity with two identifiers, verify allergies, and ensure the dose, drug, route, and time are correct. I double-check the CD with a second nurse, both sign the CD register, and explain the drug to the patient before administering.",
              },
              {
                q: "A patient refuses their morphine dose after you have drawn it up. What do you do?",
                a: "I do not administer it. I waste the dose immediately in the presence of a second nurse and both of us record the wastage in the CD register, ensuring accountability. I then document the refusal in the patient’s notes.",
              },
              {
                q: "During the 24-hour stock check, you notice the CD balance in the cupboard does not match the CD register. What is your immediate action?",
                a: "I stop and double-check the count with another nurse. If the discrepancy remains, I immediately report it to the ward manager/senior nurse and follow hospital policy. I would document the incident and never ignore the discrepancy.",
              },
              {
                q: "Your colleague asks you to administer a controlled drug that they already prepared. What is your response?",
                a: "I would politely decline because I am only accountable for medications I prepare and check myself. For CDs, both nurses must witness preparation and administration together. I would offer to help my colleague with other tasks so they have time to administer it themselves.",
              },
              {
                q: "A patient receiving morphine IV becomes suddenly drowsy with a low respiratory rate. What do you do?",
                a: "I would stop the infusion, call for urgent medical help, and monitor airway, breathing, and circulation. I would prepare to administer naloxone as prescribed and provide supportive care like oxygen. I would also document the event and follow incident reporting protocols.",
              },
            ],
          },
          {
            week: 2,
            day: 9,
            title: "IV Therapy & Blood Transfusions",
            flashcards: [
              {
                q: "What is the 'SAS' method for giving an IV bolus?",
                a: "Saline flush (to check patency), Administer medication, Saline flush (to push the full dose through).",
              },
              {
                q: "What are the classic signs of phlebitis?",
                a: "Pain, Erythema (redness), Swelling, Warmth, and a palpable venous cord.",
              },
              {
                q: "What is the most important safety check before starting a blood transfusion?",
                a: "The bedside check performed by two registered professionals, verifying the patient's ID against their wristband and the details on the blood bag.",
              },
              {
                q: "What is your immediate first action if you suspect a transfusion reaction?",
                a: "STOP THE TRANSFUSION IMMEDIATELY.",
              },
              {
                q: "You are about to start an IV cannulation. What are the key steps you follow?",
                a: "I explain the procedure and gain consent, wash my hands, and use aseptic technique. I apply a tourniquet, select a suitable vein, clean the site, insert the cannula bevel up, confirm flashback, advance the cannula, remove the needle, secure with a sterile dressing, flush, and document.",
              },
              {
                q: "A patient with an IV line complains of pain and you notice redness and swelling at the site. What is your immediate action?",
                a: "I suspect phlebitis. I stop the infusion, remove the cannula, apply a compress, re-site the IV in another limb, monitor the patient, and document using the phlebitis scale.",
              },
              {
                q: "A patient’s IV fluid is running too fast due to gravity. What would you do?",
                a: "I would clamp the line immediately, adjust the flow to the prescribed rate, assess the patient for any signs of fluid overload, and document the intervention.",
              },
              {
                q: "You are about to administer a blood transfusion. What critical checks must you perform before starting?",
                a: "With another nurse, I confirm patient identity, check blood group, unit number, expiry date, and prescription. I ensure consent is obtained and take baseline vitals before starting.",
              },
              {
                q: "The patient develops fever, chills, and back pain 10 minutes after starting a blood transfusion. What do you do?",
                a: "I stop the transfusion immediately, keep the IV line open with normal saline, monitor ABCs, call the doctor, inform the blood bank, keep the blood bag for investigation, and document.",
              },
              {
                q: "What steps do you take after completing a blood transfusion?",
                a: "I record final vital signs, flush the IV line, document start/finish times, unit number, and patient response, dispose of equipment safely, and continue monitoring for delayed reactions.",
              },
              {
                q: "How do you monitor a patient during an IV fluid infusion?",
                a: "I monitor the infusion site for pain, swelling, or redness, check the infusion rate, and regularly assess the patient’s vital signs, urine output, and signs of fluid overload or dehydration.",
              },
              {
                q: "What are the signs of fluid overload during IV therapy?",
                a: "Shortness of breath, crackles on auscultation, raised JVP, edema, and hypertension. I would stop or slow the infusion and report immediately.",
              },
              {
                q: "What are the signs of an acute hemolytic transfusion reaction?",
                a: "Fever, chills, chest or back pain, hypotension, tachycardia, hemoglobinuria, and shock. It requires immediate stopping of the transfusion, supportive care, and urgent medical help.",
              },
              {
                q: "What is your role in ensuring blood transfusion safety?",
                a: "To perform strict identity checks with another nurse, follow aseptic technique, monitor the patient closely for reactions, maintain accurate documentation, and escalate concerns immediately.",
              },
            ],
          },
          {
            week: 2,
            day: 10,
            title: "Post-Operative & Musculoskeletal Care",
            flashcards: [
              {
                q: "What are the key nursing interventions to prevent a post-operative DVT?",
                a: "Early ambulation, in-bed leg exercises, applying anti-embolic stockings (TEDS), and administering prescribed anticoagulants.",
              },
              {
                q: "What are the '6 Ps' of a neurovascular assessment for a fractured limb?",
                a: "Pain, Pallor (pale skin), Pulselessness, Paresthesia (pins and needles), Paralysis, Pressure (swelling).",
              },
              {
                q: "Why is early ambulation important after surgery?",
                a: "It prevents DVTs, improves respiratory function (preventing pneumonia), and stimulates gut motility.",
              },
              {
                q: "What are your immediate checks for a post-op patient?",
                a: "ABCDE assessment, vital signs, pain level, wound dressing, drains, urine output, and check for bleeding.",
              },
              {
                q: "How do you assess a surgical wound?",
                a: "Check for bleeding, color of drainage, signs of infection (redness, warmth, pus), dressing integrity, and patient pain.",
              },
              {
                q: "A post-op patient reports shortness of breath. What do you do?",
                a: "Stop activity, assess ABCs, check vitals and SpO₂, provide oxygen, and escalate immediately.",
              },
              {
                q: "Why is early ambulation important after surgery?",
                a: "It prevents DVT, pneumonia, constipation, and speeds up recovery.",
              },
              {
                q: "How do you manage a patient with a fractured limb?",
                a: "Immobilize the limb, assess circulation, sensation, movement, provide pain relief, elevate, and monitor for complications.",
              },
              {
                q: "What is compartment syndrome and why is it dangerous?",
                a: "It’s increased pressure within a muscle compartment causing reduced blood flow. It can lead to permanent damage if not treated urgently.",
              },
              {
                q: "What post-op complications must you monitor for?",
                a: "Bleeding, infection, DVT, pulmonary embolism, pneumonia, and wound dehiscence.",
              },
              {
                q: "What is your role in drain care?",
                a: "Monitor drainage amount, color, and consistency; ensure patency; maintain aseptic technique; and document.",
              },
              {
                q: "A patient with a plaster cast reports numbness. What do you do?",
                a: "Suspect compromised circulation. Assess capillary refill, pulse, sensation, and escalate immediately.",
              },
              {
                q: "How do you support pain management post-op?",
                a: "Use pain scales, administer prescribed analgesia, reposition, use non-pharmacological methods, and monitor effects.",
              },
            ],
          },
          {
            week: 2,
            day: 11,
            title: "Medical Emergencies (Part 1)",
            flashcards: [
              {
                q: "What are the two key components for recognizing sepsis?",
                a: "Signs of an infection PLUS signs of organ dysfunction (e.g., new confusion, high respiratory rate, low blood pressure).",
              },
              {
                q: "What is the single most important, life-saving medication for anaphylaxis?",
                a: "Intramuscular (IM) Adrenaline (Epinephrine).",
              },
              {
                q: "You find a patient unresponsive and not breathing normally. What are your first two actions?",
                a: "1. Shout for help / Activate the emergency call system.\n2. Immediately start high-quality chest compressions.",
              },
              {
                q: "What is sepsis?",
                a: "A life-threatening organ dysfunction caused by an exaggerated response to infection.",
              },
              {
                q: "What early signs of sepsis should you look for?",
                a: "Fever or hypothermia, tachycardia, tachypnea, hypotension, confusion, low urine output.",
              },
              {
                q: "What is your first nursing action if you suspect sepsis?",
                a: "Escalate immediately, obtain vital signs, administer oxygen, and prepare IV access and fluids.",
              },
              {
                q: "What is anaphylaxis?",
                a: "A severe, life-threatening allergic reaction with airway, breathing, and circulation compromise.",
              },
              {
                q: "What are signs of anaphylaxis?",
                a: "Swelling of lips/tongue, difficulty breathing, wheeze, hypotension, tachycardia, hives.",
              },
              {
                q: "What is your first action in anaphylaxis?",
                a: "Call for help, stop trigger, lay patient flat, give high-flow oxygen, prepare IM adrenaline.",
              },
              {
                q: "Where is adrenaline administered in anaphylaxis?",
                a: "Intramuscularly into the mid-outer thigh (0.5 mg for adults).",
              },
              {
                q: "What monitoring is required after anaphylaxis treatment?",
                a: "Continuous vitals, oxygen saturation, airway patency, urine output, and readiness for repeat adrenaline.",
              },
              {
                q: "How can sepsis be prevented in hospitals?",
                a: "Infection control, early recognition, prompt treatment of infections, and aseptic technique.",
              },
              {
                q: "What documentation is important in anaphylaxis?",
                a: "Time of onset, interventions (e.g., adrenaline time/dose), patient response, and escalation details.",
              },
            ],
          },
          {
            week: 2,
            day: 12,
            title: "Medical Emergencies (Part 2)",
            flashcards: [
              {
                q: "What is the purpose of the recovery position for an unconscious patient who is breathing?",
                a: "To protect their airway and prevent it from being obstructed by their tongue or vomit.",
              },
              {
                q: "After establishing ABCs are stable, what is the next critical step for an unconscious patient with known diabetes?",
                a: "Immediately check their capillary blood glucose level.",
              },
              {
                q: "What is the treatment for severe hypoglycemia in an unconscious patient with IV access?",
                a: "IV Dextrose, as prescribed by the medical team.",
              },
              {
                q: "What is your first step when you find a patient unconscious?",
                a: "Check responsiveness, shout for help, and start ABC assessment.",
              },
              {
                q: "What do you check in the airway of an unconscious patient?",
                a: "Obstruction, tongue position, vomit, or foreign body; use head tilt-chin lift if safe.",
              },
              {
                q: "How do you assess breathing in an unconscious patient?",
                a: "Look for chest rise, listen for breath sounds, feel for airflow, and check SpO₂.",
              },
              {
                q: "How do you assess circulation in an unconscious patient?",
                a: "Check carotid pulse, skin color, capillary refill, and monitor vital signs.",
              },
              {
                q: "What is your role if the patient is diabetic and unconscious?",
                a: "Check blood glucose; if low, escalate immediately for IV dextrose or IM glucagon.",
              },
              {
                q: "How do you position an unconscious patient with a pulse and breathing?",
                a: "In the recovery position to maintain airway and prevent aspiration.",
              },
              {
                q: "How do you assess neurological status in an unconscious patient?",
                a: "Use Glasgow Coma Scale (GCS): eye, verbal, and motor response.",
              },
              {
                q: "What are common causes of unconsciousness?",
                a: "Hypoglycemia, head injury, stroke, hypoxia, overdose, seizures.",
              },
              {
                q: "What is your action if the patient stops breathing?",
                a: "Call for code, start CPR, and attach AED if available.",
              },
              {
                q: "What do you document after managing an unconscious patient?",
                a: "Initial state, interventions done, vital signs, escalation, and patient response.",
              },
            ],
          },
          {
            week: 2,
            day: 13,
            title: "Cardiovascular & Neurological Emergencies",
            flashcards: [
              {
                q: "What does F.A.S.T. acronym stand for in stroke recognition?",
                a: "Face (drooping), Arms (weakness), Speech (slurred), Time (to call for help).",
              },
              {
                q: "What are your priority interventions for a patient with a suspected MI (heart attack)?",
                a: "Call for help, sit the patient up, administer Oxygen, obtain a 12-lead ECG, and prepare to give medications like Aspirin, Nitrates, and Morphine.",
              },
              {
                q: "What is the most serious complication of a DVT?",
                a: "A Pulmonary Embolism (PE), where the clot travels to the lungs.",
              },
              {
                q: "How do you recognize a stroke quickly?",
                a: "Using FAST: Face drooping, Arm weakness, Speech difficulty, Time to call emergency help.",
              },
              {
                q: "What is your first action if you suspect stroke?",
                a: "Call stroke team, record time of onset, maintain airway, give oxygen, and monitor vitals.",
              },
              {
                q: "What symptoms indicate myocardial infarction?",
                a: "Chest pain/pressure radiating to arm or jaw, sweating, shortness of breath, nausea.",
              },
              {
                q: "What is your immediate action for a patient with chest pain?",
                a: "Stop activity, sit patient upright, give oxygen, check vitals, alert doctor, and prepare ECG.",
              },
              {
                q: "What are nursing priorities after MI?",
                a: "Continuous ECG monitoring, oxygen, pain relief, reassurance, and strict documentation.",
              },
              {
                q: "What are signs of DVT in the leg?",
                a: "Swelling, redness, warmth, pain, and tenderness, usually in one leg.",
              },
              {
                q: "How do you prevent DVT in post-op patients?",
                a: "Early ambulation, compression stockings, adequate hydration, and anticoagulants if prescribed.",
              },
              {
                q: "What is your immediate nursing action if DVT is suspected?",
                a: "Keep patient on bed rest, elevate limb, do not massage, inform doctor, and prepare for anticoagulant therapy.",
              },
              {
                q: "What are the key monitoring needs after a stroke?",
                a: "Neurological status (GCS), vital signs, swallowing ability, mobility, and complications like aspiration.",
              },
              {
                q: "Why is time critical in stroke and MI care?",
                a: "Early intervention reduces damage — 'time is brain' for stroke, 'time is muscle' for MI.",
              },
            ],
          },
          {
            week: 2,
            day: 14,
            title: "Weekly Review",
            flashcards: [
              {
                q: "You find a patient on the floor. What is your first action after ensuring the scene is safe?",
                a: "Call for help and instruct the patient not to move until they have been assessed.",
              },
              {
                q: "A patient is suddenly confused. What are three potential underlying medical causes to consider?",
                a: "Infection (e.g., UTI), Hypoxia (low oxygen), and Pain. (Also dehydration, electrolyte imbalance, medication side effects).",
              },
              {
                q: "What are your steps if a patient falls in the ward?",
                a: "Ensure safety, assess ABCs, check for injuries, do not move until safe, report, and document.",
              },
              {
                q: "How do you manage an aggressive/confused patient?",
                a: "Ensure safety, use calm tone, maintain distance, call for support, and use de-escalation techniques.",
              },
              {
                q: "What is your first step if you suspect sepsis in a post-op patient?",
                a: "Escalate immediately, check vitals, give oxygen, and prepare IV access.",
              },
              {
                q: "How do you respond to sudden shortness of breath in a patient?",
                a: "Stop activity, check SpO₂, give oxygen, sit patient upright, and escalate.",
              },
              {
                q: "What is your nursing role in a code blue situation?",
                a: "Start CPR if trained, call for help, bring crash cart, attach defibrillator/AED, document.",
              },
              {
                q: "What is your response if a patient pulls out their NG tube?",
                a: "Stop feeding, assess patient’s condition, inform doctor, and prepare for reinsertion if needed.",
              },
              {
                q: "What are your actions if you suspect an anaphylactic reaction?",
                a: "Stop trigger, call for help, lay patient flat, give high-flow oxygen, prepare IM adrenaline.",
              },
              {
                q: "How do you ensure medication safety during a busy shift?",
                a: "Prioritize urgent meds, follow 5 Rights, work distraction-free, double-check high-risk meds.",
              },
              {
                q: "How do you respond to sudden chest pain on the ward?",
                a: "Sit patient upright, give oxygen, check vitals, call for help, and prepare ECG.",
              },
              {
                q: "How do you ensure patient dignity in emergency care?",
                a: "Communicate clearly, explain actions, maintain privacy, and provide reassurance throughout.",
              },
            ],
          },
          // WEEK 3
          {
            week: 3,
            day: 15,
            title: "Scenarios & Ethics",
            flashcards: [
              {
                q: "What does the 'SAFE' framework for answering scenario questions stand for?",
                a: "Safety (state the risk), Assess (what you would check), First Actions (your first 2-3 interventions), Explain Rationale (why you're doing it).",
              },
              {
                q: "(Scenario) A competent patient refuses a prescribed medication. What is the core ethical principle you must uphold?",
                a: "Respect for Autonomy. Your role is to assess their reason, educate them on the risks of refusal, but ultimately respect their decision and inform the doctor.",
              },
              {
                q: "(Scenario) A patient's family asks you not to tell the patient their diagnosis. The patient asks you directly. What is your primary duty to?",
                a: "Your primary duty is to the patient. You must not lie. The correct action is to escalate to the senior nurse and doctor to facilitate an honest conversation.",
              },
            ],
          },
          {
            week: 3,
            day: 16,
            title: "Scenario Application",
            flashcards: [
              {
                q: "(Scenario) You enter a room and find a patient has fallen. What are your immediate actions?",
                a: "1. Call for help. 2. Assess the patient for immediate danger (ABCDE). 3. Do not move the patient until a proper assessment is done, especially if a spinal injury is suspected.",
              },
              {
                q: "(Scenario) A patient's vital signs are deteriorating rapidly. What framework should you use to communicate this?",
                a: "Use the SBAR framework: Situation (who you are, patient name, problem), Background (relevant history), Assessment (your findings, vital signs), Recommendation (what you need).",
              },
            ],
          },
          {
            week: 3,
            day: 17,
            title: "Scenario Application",
            flashcards: [
              {
                q: "(Scenario) You witness a colleague not washing their hands between patients. What should you do?",
                a: "Address it directly and politely in private. Remind them of the hand hygiene policy. If the behavior continues, you must escalate it to the nurse in charge to protect patient safety.",
              },
              {
                q: "(Scenario) A patient complains of 10/10 chest pain. What are your priority nursing interventions?",
                a: "1. Call for immediate medical assistance. 2. Administer oxygen if prescribed/needed. 3. Obtain a 12-lead ECG. 4. Prepare to administer MONA (Morphine, Oxygen, Nitrates, Aspirin) as per protocol.",
              },
            ],
          },
          {
            week: 3,
            day: 18,
            title: "Ethics & Communication",
            flashcards: [
              {
                q: "How would you handle a complaint from a patient's family member?",
                a: "Listen actively and empathetically without being defensive. Acknowledge their concerns. Explain what you can do to help and escalate the issue to the nurse in charge if you cannot resolve it yourself.",
              },
              {
                q: "What is 'duty of care'?",
                a: "A legal and professional obligation to provide a reasonable standard of care to patients, acting in their best interests and protecting them from foreseeable harm.",
              },
            ],
          },
          {
            week: 3,
            day: 19,
            title: "Mock Interview #1",
            flashcards: [
              {
                q: "'Tell me about a time you had to handle a stressful situation.'",
                a: "Use the STAR method: Situation (describe the context), Task (what was required of you), Action (what you did), Result (the outcome of your actions).",
              },
              {
                q: "'Why do you want to work as a nurse in Malta?'",
                a: "Mention the high standard of healthcare, the opportunity for professional development, the multicultural environment, and your desire to contribute your skills to the Maltese healthcare system.",
              },
            ],
          },
          {
            week: 3,
            day: 20,
            title: "Refine & Review",
            flashcards: [
              {
                q: "What is the importance of continuing professional development (CPD) in nursing?",
                a: "It ensures nurses remain up-to-date with the latest clinical practices, maintain high standards of care, and adapt to new technologies and challenges in healthcare.",
              },
              {
                q: "How do you ensure you are a good team player?",
                a: "By communicating clearly and respectfully, offering help to colleagues, being reliable and accountable for my tasks, and actively listening to others' perspectives.",
              },
            ],
          },
          // WEEK 4
          {
            week: 4,
            day: 21,
            title: "Mock Interview #2",
            flashcards: [
              {
                q: "'What are your strengths and weaknesses as a nurse?'",
                a: "Strengths: Mention 2-3 relevant skills (e.g., compassion, attention to detail, communication). Weakness: Choose a real but manageable weakness and show how you are working to improve it (e.g., 'I'm working on becoming more confident in delegating tasks').",
              },
              {
                q: "'Where do you see yourself in 5 years?'",
                a: "Express a desire for growth within the hospital/organization. Mention specializing in a particular area of interest or taking on more senior responsibilities like mentoring new nurses.",
              },
            ],
          },
          {
            week: 4,
            day: 22,
            title: "Final Content Polish",
            flashcards: [
              {
                q: "What is the role of a nurse in patient education?",
                a: "To provide patients and their families with clear information about their condition, treatment, medications, and self-care strategies to empower them to manage their health effectively.",
              },
              {
                q: "Review the 5 Rights of Medication Administration.",
                a: "Right Patient, Right Drug, Right Dose, Right Route, Right Time.",
              },
            ],
          },
          {
            week: 4,
            day: 23,
            title: "Performance & Confidence",
            flashcards: [
              {
                q: "What is the 'Present - Past - Future' formula for answering 'Tell me about yourself'?",
                a: "Present: Who you are now (e.g., recent nursing graduate). Past: Key experiences that brought you here (e.g., studies in Poland). Future: Why you are here (e.g., want to start your career in Malta).",
              },
              {
                q: "What kind of questions should you AVOID asking the interviewers?",
                a: "Avoid questions about salary or vacation time in the first interview. Also, avoid questions that could be easily answered by looking at the hospital's website.",
              },
              {
                q: "What is the goal of the final days before the interview (Day 26-27)?",
                a: "To REST. Stop active studying, trust your preparation, get good sleep, and focus on being calm and confident. A rested mind performs better than a tired one.",
              },
            ],
          },
          {
            week: 4,
            day: 24,
            title: "Full Dress Rehearsal",
            flashcards: [
              {
                q: "Practice your 'Tell me about yourself' answer out loud.",
                a: "Use the 'Present - Past - Future' formula. Keep it concise (around 90 seconds) and relevant to the nursing role you are applying for.",
              },
              {
                q: "Prepare 2-3 thoughtful questions to ask the interviewer.",
                a: "Examples: 'What does a typical day look like for a nurse on this ward?' or 'What opportunities are there for professional development and further training?'",
              },
            ],
          },
          {
            week: 4,
            day: 25,
            title: "Final Light Review",
            flashcards: [
              {
                q: "Review the F.A.S.T. acronym for stroke.",
                a: "Face (drooping), Arms (weakness), Speech (slurred), Time (to call for help).",
              },
              {
                q: "What is your first action if you suspect a transfusion reaction?",
                a: "STOP THE TRANSFUSION IMMEDIATELY.",
              },
            ],
          },
          {
            week: 4,
            day: 26,
            title: "REST",
            flashcards: [
              {
                q: "What is the plan for today?",
                a: "No active studying. Focus on relaxation, light exercise, and getting a good night's sleep. Trust in your preparation.",
              },
            ],
          },
          {
            week: 4,
            day: 27,
            title: "REST",
            flashcards: [
              {
                q: "What is the plan for today?",
                a: "Final day of rest. Prepare your interview outfit and documents. Eat a healthy meal and go to bed early. Visualize success.",
              },
            ],
          },
        ];

        function generateDecksFromGuide() {
          return guideData.map((day) => ({
            day: day.day,
            title: day.title,
            week: day.week,
            cards: day.flashcards.map((c) => ({
              ...c,
              learned: false,
              id: crypto.randomUUID(),
            })),
          }));
        }

        // --- DOM ELEMENTS ---
        const dayNavigation = document.getElementById("day-navigation");
        const deckTitle = document.getElementById("deck-title");
        const container = document.getElementById("flashcardContainer");
        const modal = document.getElementById("modal");
        const modalTitle = document.getElementById("modal-title");
        const qInput = document.getElementById("q");
        const aInput = document.getElementById("a");
        const shuffleBtn = document.getElementById("shuffle");
        const addNewBtn = document.getElementById("add-new-card");
        const saveBtn = document.getElementById("save-card");
        const closeBtn = document.getElementById("modal-close");
        const toast = document.getElementById("toast");
        const progressBar = document.getElementById("progress-bar");
        const resetProgressBtn = document.getElementById("reset-progress");
        const confirmModal = document.getElementById("confirm-modal");
        const themeToggleBtn = document.getElementById("theme-toggle");

        // --- STATE & DATA INITIALIZATION ---
        let currentDay = 1;
        let allDecks; // Will be initialized by initializeData()
        let currentCards; // Will be set by switchDeck()
        let editingIndex = -1;

        function initializeData() {
          const storedVersion = localStorage.getItem(VERSION_STORAGE_KEY);
          if (storedVersion !== SCRIPT_VERSION) {
            // Version mismatch or first load. Clear old data and use fresh data from the script.
            // This loop clears any potential older versions to keep localStorage clean.
            Object.keys(localStorage).forEach((key) => {
              if (key.startsWith("flashcardDecks_v")) {
                localStorage.removeItem(key);
              }
            });
            localStorage.setItem(VERSION_STORAGE_KEY, SCRIPT_VERSION);
            console.log(
              "Data version mismatch. Loading fresh data from script."
            );
            return generateDecksFromGuide();
          } else {
            // Versions match, try to load from storage. Fallback to generating if storage is empty for some reason.
            const storedDecks = localStorage.getItem(DECKS_STORAGE_KEY);
            console.log("Data version matches. Loading from localStorage.");
            return storedDecks
              ? JSON.parse(storedDecks)
              : generateDecksFromGuide();
          }
        }

        // --- THEME FUNCTIONS ---
        function applyTheme(theme) {
          document.body.dataset.theme = theme;
          localStorage.setItem("theme", theme);
          const icon = theme === "dark" ? "sun" : "moon";
          themeToggleBtn.innerHTML = `<i data-feather="${icon}"></i>`;
          feather.replace();
        }

        function toggleTheme() {
          const currentTheme = document.body.dataset.theme || "light";
          const newTheme = currentTheme === "light" ? "dark" : "light";
          applyTheme(newTheme);
        }

        // --- GENERAL FUNCTIONS ---
        function showToast(msg, time = 2000) {
          toast.textContent = msg;
          toast.classList.add("show");
          setTimeout(() => toast.classList.remove("show"), time);
        }

        function saveDecks() {
          localStorage.setItem(DECKS_STORAGE_KEY, JSON.stringify(allDecks));
        }

        function updateProgress() {
          const totalCards = currentCards.length;
          if (totalCards === 0) {
            progressBar.style.width = "0%";
            return;
          }
          const learnedCards = currentCards.filter((c) => c.learned).length;
          const progress = (learnedCards / totalCards) * 100;
          progressBar.style.width = `${progress}%`;
        }

        function renderDayNavigation() {
          let currentWeek = 0;
          dayNavigation.innerHTML = "";
          allDecks
            .sort((a, b) => a.day - b.day)
            .forEach((deck) => {
              if (deck.week !== currentWeek) {
                currentWeek = deck.week;
                const weekHeader = document.createElement("h3");
                weekHeader.className = "week-header";
                weekHeader.textContent = `Week ${currentWeek}`;
                dayNavigation.appendChild(weekHeader);
              }
              const link = document.createElement("a");
              link.href = "#";
              link.className = "day-link";
              link.dataset.day = deck.day;
              link.textContent = `Day ${deck.day}: ${deck.title}`;
              if (deck.day === currentDay) link.classList.add("active");
              dayNavigation.appendChild(link);
            });
        }

        function renderCards() {
          container.innerHTML = "";
          const visibleCards = currentCards.filter((card) => !card.learned);

          if (visibleCards.length === 0 && currentCards.length > 0) {
            container.innerHTML = `<p style="text-align: center; grid-column: 1 / -1;">Congratulations! You've learned all the cards for today. Use the "Reset Progress" button to review them again.</p>`;
          } else {
            visibleCards.forEach((card) => {
              const cardEl = document.createElement("div");
              cardEl.className = `card`;
              cardEl.dataset.id = card.id;
              cardEl.innerHTML = `
                          <div class="card-inner">
                              <div class="card-face card-front">${card.q}</div>
                              <div class="card-face card-back">${card.a.replace(
                                /\n/g,
                                "<br>"
                              )}</div>
                          </div>
                          <div class="card-actions">
                              <button class="card-action btn-learned" data-id="${
                                card.id
                              }" title="Mark as Learned"><i data-feather="check" style="pointer-events: none;"></i></button>
                              <button class="card-action edit-btn" data-id="${
                                card.id
                              }" title="Edit"><i data-feather="edit-2" style="pointer-events: none;"></i></button>
                              <button class="card-action delete-btn" data-id="${
                                card.id
                              }" title="Delete"><i data-feather="trash-2" style="pointer-events: none;"></i></button>
                          </div>
                      `;
              container.appendChild(cardEl);
            });
          }
          feather.replace();
          updateProgress();
        }

        function switchDeck(day) {
          currentDay = day;
          let deck = allDecks.find((d) => d.day === day);
          if (!deck) {
            const dayData = guideData.find((d) => d.day === day) || {
              day,
              title: `Day ${day}`,
              cards: [],
            };
            deck = {
              day,
              title: dayData.title,
              week: dayData.week,
              cards: dayData.flashcards.map((c) => ({
                ...c,
                learned: false,
                id: crypto.randomUUID(),
              })),
            };
            allDecks.push(deck);
          }
          currentCards = deck.cards;
          deckTitle.textContent = `Day ${deck.day}: ${deck.title}`;
          document
            .querySelectorAll(".day-link")
            .forEach((l) =>
              l.classList.toggle("active", parseInt(l.dataset.day) === day)
            );
          renderCards();
        }

        function openModal(title, q = "", a = "", index = -1) {
          modalTitle.textContent = title;
          qInput.value = q;
          aInput.value = a;
          editingIndex = index;
          modal.classList.add("open");
        }

        function closeModal() {
          modal.classList.remove("open");
        }

        function showConfirm(title, text, onOk) {
          document.getElementById("confirm-title").textContent = title;
          document.getElementById("confirm-text").textContent = text;
          confirmModal.classList.add("open");

          const okBtn = document.getElementById("confirm-ok");
          const cancelBtn = document.getElementById("confirm-cancel");

          function cleanup() {
            confirmModal.classList.remove("open");
            okBtn.removeEventListener("click", handleOk);
            cancelBtn.removeEventListener("click", handleCancel);
          }

          const handleOk = () => {
            onOk();
            cleanup();
          };
          const handleCancel = () => cleanup();

          okBtn.addEventListener("click", handleOk, { once: true });
          cancelBtn.addEventListener("click", handleCancel, { once: true });
        }

        function saveCard() {
          const q = qInput.value.trim();
          const a = aInput.value.trim();
          if (!q || !a) {
            showToast("Question and answer cannot be empty.");
            return;
          }

          if (editingIndex > -1) {
            currentCards[editingIndex].q = q;
            currentCards[editingIndex].a = a;
            showToast("Card updated!");
          } else {
            currentCards.push({
              q,
              a,
              learned: false,
              id: crypto.randomUUID(),
            });
            showToast("Card added!");
          }

          saveDecks();
          renderCards();
          closeModal();
        }

        // --- EVENT LISTENERS ---
        themeToggleBtn.addEventListener("click", toggleTheme);

        dayNavigation.addEventListener("click", (e) => {
          const link = e.target.closest(".day-link");
          if (link) {
            e.preventDefault();
            switchDeck(parseInt(link.dataset.day));
          }
        });

        container.addEventListener("click", (e) => {
          const target = e.target;
          const cardId = target.closest(".card-action")?.dataset.id;
          if (!cardId) {
            const cardInner = target.closest(".card-inner");
            if (cardInner) cardInner.parentElement.classList.toggle("flipped");
            return;
          }

          const cardIndex = currentCards.findIndex((c) => c.id === cardId);
          if (cardIndex === -1) return;

          if (target.closest(".delete-btn")) {
            showConfirm(
              "Delete Card?",
              "Are you sure you want to delete this card?",
              () => {
                currentCards.splice(cardIndex, 1);
                saveDecks();
                renderCards();
                showToast("Card deleted.");
              }
            );
          } else if (target.closest(".edit-btn")) {
            const card = currentCards[cardIndex];
            openModal("Edit Flashcard", card.q, card.a, cardIndex);
          } else if (target.closest(".btn-learned")) {
            currentCards[cardIndex].learned = true;
            saveDecks();
            const cardEl = document.querySelector(`.card[data-id="${cardId}"]`);
            if (cardEl) {
              cardEl.classList.add("learned");
              setTimeout(() => {
                cardEl.classList.add("hide");
                setTimeout(renderCards, 300);
              }, 500);
            }
            showToast("Card marked as learned! ✨");
            updateProgress();
          }
        });

        resetProgressBtn.addEventListener("click", () => {
          showConfirm(
            "Reset Progress?",
            'This will mark all cards in this deck as "unlearned".',
            () => {
              currentCards.forEach((card) => (card.learned = false));
              saveDecks();
              renderCards();
              showToast("Progress for this deck has been reset.");
            }
          );
        });

        shuffleBtn.addEventListener("click", () => {
          for (let i = currentCards.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [currentCards[i], currentCards[j]] = [
              currentCards[j],
              currentCards[i],
            ];
          }
          renderCards();
          showToast("Deck shuffled!");
        });

        addNewBtn.addEventListener("click", () =>
          openModal("Create New Flashcard")
        );
        saveBtn.addEventListener("click", saveCard);
        modal.addEventListener("click", (e) => {
          if (e.target === modal || e.target === closeBtn) closeModal();
        });

        // --- INITIALIZATION ---
        const savedTheme = localStorage.getItem("theme");
        const prefersDark =
          window.matchMedia &&
          window.matchMedia("(prefers-color-scheme: dark)").matches;
        applyTheme(savedTheme || (prefersDark ? "dark" : "light"));

        allDecks = initializeData();
        renderDayNavigation();
        switchDeck(currentDay); // Initial load
      });
    </script>
  </body>
</html>
